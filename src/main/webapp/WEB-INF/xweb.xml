<?xml version="1.0" encoding="utf-8"?>
<xweb version='1.0'>

	<properties>
		<property key='default.user'>admin@yourdomain.com</property>
		<property key='default.dir.store'>${xweb.base}/data/demo</property>
		<property key='default.dir.temp'>${xweb.base}/data/demo/temp</property>		
	</properties>

	<modules>

		<module>
			<name>redirect</name>
			<author>Hamed Abdollahpour</author>
			<class>ir.xweb.module.RedirectModule</class>
			<properties>
				<!-- default language English -->
				<property key='/'>/en/index.html</property>
			</properties>
		</module>

		<!-- https://github.com/abdollahpour/xweb/wiki/RewriteModule -->
		<module>
			<name>rewrite</name>
			<author>Hamed Abdollahpour</author>
			<class>ir.xweb.module.RewriteModule</class>
			<properties>
				<property key="/fa/wiki/(.*)" value="/fa/wiki.html" />
			</properties>
		</module>

		<!--
			On of the important module that many other module use it.
			
			https://github.com/abdollahpour/xweb/wiki/ResourceModule
		-->
		<module>
			<name>resource</name>
			<author>Hamed Abdollahpour</author>
			<class>ir.xweb.module.ResourceModule</class>
			<validators>
				<validator param="download" regex="(protected/.*$)|(public/.*$)|(private/.*$)" />
			</validators>
			<roles>
				<!--
					Admin can do anything
				-->
				<role definite="true" param="" eval="true" value="admin" />
				<!--
					just users can protected folders - Private folder just can access by user itself can admin. We will check for private access in coding part
				-->
				<role param="download" eval="%download%.indexOf('public/') == 0 || %download%.indexOf('protected/') == 0 || %download%.indexOf('private/') == 0" value="^[a-z]{1,20}$"/>
				<!--
					anyone can access public folder
				-->
				<role param="download" eval="%download%.indexOf('public/') == 0" value=".*?"/>
			</roles>
			<properties>
				<!--
					(Not optional)
					Path to store all user informations.
					This directory should have full permission (Read/Write)
				-->
				<property key='dir.data'>${default.dir.store}</property>
				<!--
					Use for temporary files. If you don't set this directory it will be ${java.io.tmpdir} the default system temp directory
				-->
				<property key='dir.temp'>${default.dir.temp}</property>
				<property key='store.pattern'>(.*?).(pdroid|pdroid.gz|zip|apk)</property>
				<property key='log.pattern'>(.*?).(pdroid|pdroid.gz|zip|apk)</property>
				<property key='default.id'>1</property>
				
			</properties>
		</module>

		<!-- 
			Wiki module. Support Mediawiki and markdown
			Requirement:
				- Resource module

			https://github.com/abdollahpour/xweb-wiki
		-->
		<module>
			<name>wiki</name>
			<author>Hamed Abdollahpour</author>
			<class>ir.xweb.module.WikiModule</class>
			<validators>
				<!-- TODO: restrict illegal value to cheat system -->
				<validator param="get" regex=".*?" />
				<validator param="html" regex=".*?" />
				<validator param="put" regex=".*?" />
			</validators>
			<roles>
				<role definite="true" param="" eval="true" value="admin" />
				<role param="get,html" eval="true" value=".*?" />
			</roles>
			<properties>
				<!-- Store all the wiki files in /wiki folder of WEBROOT -->
				<property key='dir.wiki'>${xweb.root}/wiki</property>
				<!-- Store HTML generated by Wiki -->
				<property key='dir.cache'>${default.dir.temp}/temp</property>
			</properties>
		</module>

	</modules>

</xweb>
